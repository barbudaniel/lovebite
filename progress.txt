## Codebase Patterns

<!-- 
  This section contains general, reusable patterns discovered during implementation.
  Add patterns that future iterations should follow.
  Keep this section concise - only add truly reusable patterns.
-->

- Next.js 15.x with App Router, pages in `app/(marketing)/`
- Tailwind CSS for styling, config in `tailwind.config.ts`
- Section components in `components/sections/`
- UI primitives in `components/ui/`
- Framer Motion for animations via `components/motion/`
- Test command: `npm run build && npm run lint`
- Use emerald green (#10B981 → #059669) for primary CTAs
- Use coral pink (#F03C4E) for brand accent only
- Creator pages use "Start Free Trial" CTA
- Agency pages use "Book a Demo" CTA
- Grayscale-to-color hover: use `grayscale opacity-50 group-hover:grayscale-0 group-hover:opacity-100` with parent `group` class

---

## Iteration Log

<!-- 
  Each iteration appends learnings below.
  Format: ### [Date] - [Story ID]: [Title]
  Include: what was done, gotchas encountered, patterns discovered
-->

### 2026-01-17 - PRD Conversion to Ralph Format

- PRD converted to prd.json following Ralph skill specification
- Branch: `ralph/landing-page-alignment`
- 30 user stories, ordered by dependency (homepage → creator → studio → pricing → features → ai → technical)
- All UI stories include "Verify in browser using dev-browser skill"
- All stories include "Typecheck passes"

Key business facts confirmed:
- Company: TRUST CHARGE SOLUTIONS LTD (No. 16584325)
- Status: Operational with paying customers ($210 MRR)
- Pricing: $39/$59/Agency validated
- Key differentiator: AI Chat Assistant
- Platforms: OnlyFans, Fansly, LoyalFans, X, Instagram

Knowledge sources:
- Primary: BUSINESS_CONTEXT.md, LANDING_PAGE_BRIEF.md
- Supporting: ABOUT_LOVDASH.md, DESIGN_SYSTEM.md, SALES_DECK.md

CTA strategy:
- Creators: "Start Free Trial"
- Agencies: "Book a Demo"

Design tokens:
- Primary: #F03C4E (Coral Pink)
- Success/CTA: #10B981 (Emerald)
- Dark: #1A1A2E (Navy)

---

### 2026-01-17 - US-001: Update Hero Section Headlines

- What was implemented:
  - Updated hero subheadline to "Upload once, publish everywhere, track what works."
  - Verified headline already matches approved copy: "Your media. Every platform. Easy for everyone."
  - Committed pre-existing CTA changes (Start Free Trial, /join link) that were already in working directory

- Files changed:
  - `components/sections/hero.tsx`

- **Learnings for future iterations:**
  - Hero section uses split-line headline with color emphasis via `text-brand-500` class
  - Subheadline is responsive: previously had separate mobile/desktop spans, now simplified to single text
  - Build passes with `npm run build` despite some pre-existing TS errors (Next.js configured to skip type validation)
  - Pre-existing TS errors exist in: privacy/page.tsx, terms/page.tsx, ai/page.tsx, CreatorHero.tsx, StudioHero.tsx, checkbox.tsx

---

### 2026-01-17 - US-002: Change Primary CTA from Waitlist to Trial

- What was implemented:
  - Updated primary CTA button to use emerald green gradient (`from-emerald-500 to-emerald-600`)
  - Added secondary "Book a Demo" CTA button with outline variant for agencies
  - Both CTAs placed side-by-side with responsive flex layout (stacks on mobile)

- Files changed:
  - `components/sections/hero.tsx`

- **Learnings for future iterations:**
  - Use `from-emerald-500 to-emerald-600` for primary action buttons (maps to #10B981 → #059669)
  - Add shadow with matching color: `shadow-emerald-500/25` for emerald buttons
  - Secondary CTAs use `variant="outline"` with slate border/text colors
  - Demo links should go to `/contact?type=demo` for tracking purposes

---

### 2026-01-17 - US-003: Add Social Proof Platform Bar

- What was implemented:
  - Added social proof platform bar to hero section below trust badges
  - Platform logos for OnlyFans, Fansly, LoyalFans, X/Twitter, Instagram as SVG icons
  - Grayscale default state with color-on-hover effect using Tailwind classes
  - Stat counters: "500+ Creators | 50K+ Media Organized | $2M+ Revenue Tracked"
  - Fully responsive design (smaller icons and gap on mobile)

- Files changed:
  - `components/sections/hero.tsx`

- **Learnings for future iterations:**
  - Use `grayscale opacity-50 group-hover:grayscale-0 group-hover:opacity-100` pattern for grayscale-to-color transitions
  - Wrap icon in `group` class div to enable group-hover effects
  - Platform brand colors: OnlyFans #00AFF0, Fansly #1FA3F3, LoyalFans #FF5722, Instagram #E4405F
  - Use sr-only spans for accessibility on icon-only elements
  - Stat counters use slate-700 for emphasis with slate-300 for separators

---

### 2026-01-17 - US-004: Add Problem Statement Section

- What was implemented:
  - Created new `ProblemStatement` section component
  - Headline: "Running a creator business shouldn't feel like chaos."
  - Four pain points in 2-column grid with ❌ emoji prefix
  - Framer Motion animations for fade-in on scroll
  - Added section to homepage between Hero and Process sections

- Files changed:
  - `components/sections/problem-statement.tsx` (new)
  - `components/sections/index.ts`
  - `app/(marketing)/page.tsx`

- **Learnings for future iterations:**
  - New section components go in `components/sections/` and must be exported from `index.ts`
  - Homepage section order defined in `app/(marketing)/page.tsx`
  - Use `&apos;` for apostrophes in JSX (React/Next.js requirement)
  - Pain point sections use light slate-50 background with white cards
  - Section padding follows pattern: `py-20 lg:py-28`

---

### 2026-01-17 - US-005: Feature AI Chat Assistant Prominently

- What was implemented:
  - Added AI Chat Assistant as the FIRST feature in the Features section
  - Title: "Your AI co-pilot for every conversation"
  - Description highlights Bite learning user voice, fans, and what converts
  - Benefits: Context-aware suggestions, Media recommendations, PPV optimization, Persona consistency, Continuous learning
  - Created visual card with chat preview and AI feature badges
  - Added custom `link` property to features array to support different page routes

- Files changed:
  - `components/sections/features.tsx`

- **Learnings for future iterations:**
  - Features section uses scroll-based sticky visual on desktop
  - Add new features to the `features` array - order in array = display order
  - Feature visual cards need to be added to `featureVisuals` Record mapping
  - Use `link` property for custom routing (AI Chat links to `/ai`, not `/features/ai-chat`)
  - Violet/purple gradient (`from-violet-500 to-purple-500`) works well for AI-related features
  - Chat preview UI uses: left-aligned for incoming (slate-100), right-aligned gradient for AI suggestions
  - Icons from lucide-react: MessageSquareText for chat, Brain/Target/Repeat/Sparkles for AI capabilities

---

### 2026-01-17 - US-006: Add Agency-Focused Section on Homepage

- What was implemented:
  - Created `AgencySection` component in `components/sections/agency-section.tsx`
  - Section includes: 'For Agencies' pill badge, compelling headline, security badges row
  - 6-feature grid: Multi-Creator Dashboard, Team Management, Role-Based Access, Audit Logs, Cross-Creator Analytics, Gamification
  - Each feature card has icon, title, and description with hover animation
  - CTA section with 'Book a Demo' emerald button linking to `/contact?type=demo`
  - Trust signal: "No credit card required. See the platform before you commit."
  - Added section to homepage after AudienceFork

- Files changed:
  - `components/sections/agency-section.tsx` (new)
  - `components/sections/index.ts`
  - `app/(marketing)/page.tsx`

- **Learnings for future iterations:**
  - Agency sections use slate-900 dark background (different from creator light sections)
  - Use emerald-500/10 bg with emerald-500/20 border for pill badges on dark backgrounds
  - Security badges use slate-800/50 bg with slate-700 border for subtle appearance
  - Feature cards on dark bg: slate-800/50 bg, slate-700 border, hover:border-emerald-500/50
  - Import icons from lucide-react: Building2, Users, ShieldCheck, FileText, BarChart3, Trophy, Lock, UserCog, Eye
  - Use `whileHover={{ y: -4 }}` with spring transition for card hover lift effect

---

### 2026-01-17 - US-007: Update Creator Page Hero

- What was implemented:
  - Updated subheadline with proper em dash spacing: "what you love — creating"
  - Changed primary CTA from "Join Waitlist" to "Start Free Trial" 
  - Changed CTA href from "#cta" to "/join" for proper navigation
  - Applied emerald gradient styling to CTA button per design system
  - All existing acceptance criteria were already met (headline, pill badge, platform icons)

- Files changed:
  - `components/sections/creator/CreatorHero.tsx`

- **Learnings for future iterations:**
  - Creator hero already had most elements correct from initial implementation
  - CTA text/styling updates follow same pattern as main homepage hero
  - Creator pages use light gradient backgrounds (rose-tinted) vs agency dark backgrounds
  - Platform logos component `PlatformLogosRow` supports different variants: "colored", "stacked"

---

### 2026-01-17 - US-008: Update Creator Value Props

- What was implemented:
  - Replaced generic features with outcome-focused value propositions
  - 4 value props: Save Time, Earn More, Post Smarter, Stay Secure
  - Each includes specific stat text per requirements:
    - "5+ hours saved every week"
    - "Know exactly what content converts"
    - "Right content, right platform, right time"
    - "Your content, your control"
  - Icons: Clock, TrendingUp, Target, Shield from lucide-react
  - Section header updated to "Why Creators Choose Lovdash"

- Files changed:
  - `components/sections/creator/CreatorFeatures.tsx`

- **Learnings for future iterations:**
  - Value props differ from features: focus on outcomes/benefits not capabilities
  - Use `stat` property to display highlighted benefit text with emerald color
  - Changed icon container from brand-100/brand-600 to emerald-100/emerald-600 for consistency with CTA theme
  - Value prop structure: title, stat (highlighted), description (supporting detail)

---

### 2026-01-17 - US-009: Update Creator Pain Points Section

- What was implemented:
  - Updated pain points from 3 to 4 items to align with documented creator problems
  - New pain points: Content chaos, Inconsistent posting, Flying blind, Bio link black hole
  - Each pain point maps to acceptance criteria: organizing content, consistent posting, analytics, bio link quality
  - Changed grid layout from 3-column to 2x2 for better visual balance

- Files changed:
  - `components/sections/creator/CreatorPainPoints.tsx`

- **Learnings for future iterations:**
  - Pain points in the painPoints array use regular apostrophes ('), not HTML entities (&apos;) since they're JS strings not JSX
  - Use `sm:grid-cols-2` for 4-item grids (2x2 on tablet+)
  - Pain points should map to specific documented problems, not be generic
  - Keep pain point descriptions conversational and relatable

### 2026-01-17 - US-010: Update Studio Page Hero

- What was implemented:
  - Updated primary CTA href from `#studio-cta` to `/contact?type=demo`
  - Applied emerald gradient styling to Book a Demo button (`from-emerald-500 to-emerald-600`)
  - Added stats row with 50+ Creators Managed | 10+ Agencies | 99.9% Uptime
  - Stats use animated appearance with staggered delay

- Files changed:
  - `components/sections/studio/StudioHero.tsx`

- **Learnings for future iterations:**
  - Studio/Agency pages already had most content correct (headline, pill badge, subheadline)
  - Agency CTA links should go to `/contact?type=demo` for proper tracking
  - Stats row pattern: array of {value, label} objects with pipe separator between items
  - Use emerald gradient for all agency CTAs per design system

---
